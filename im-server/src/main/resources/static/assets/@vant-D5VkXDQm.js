import{o as x,a as O,i as T,w as b,r as v,b as E,u as p,c as A,d as L,e as m,n as P,f as R,g as C,p as M,h as B}from"./@vue-BfDSChsO.js";var w=typeof window<"u",D=n=>n===window,y=(n,e)=>({top:0,left:0,right:n,bottom:e,width:n,height:e}),z=n=>{const e=p(n);if(D(e)){const t=e.innerWidth,r=e.innerHeight;return y(t,r)}return e!=null&&e.getBoundingClientRect?e.getBoundingClientRect():y(0,0)};function U(n){const e=A(n,null);if(e){const t=C(),{link:r,unlink:o,internalChildren:i}=e;r(t),x(()=>o(t));const a=L(()=>i.indexOf(t));return{parent:e,index:a}}return{parent:null,index:v(-1)}}function S(n){const e=[],t=r=>{Array.isArray(r)&&r.forEach(o=>{var i;B(o)&&(e.push(o),(i=o.component)!=null&&i.subTree&&(e.push(o.component.subTree),t(o.component.subTree.children)),o.children&&t(o.children))})};return t(n),e}var k=(n,e)=>{const t=n.indexOf(e);return t===-1?n.findIndex(r=>e.key!==void 0&&e.key!==null&&r.type===e.type&&r.key===e.key):t};function W(n,e,t){const r=S(n.subTree.children);t.sort((i,a)=>k(r,i.vnode)-k(r,a.vnode));const o=t.map(i=>i.proxy);e.sort((i,a)=>{const u=o.indexOf(i),s=o.indexOf(a);return u-s})}function q(n){const e=m([]),t=m([]),r=C();return{children:e,linkChildren:i=>{M(n,Object.assign({link:s=>{s.proxy&&(t.push(s),e.push(s.proxy),W(r,e,t))},unlink:s=>{const c=t.indexOf(s);e.splice(c,1),t.splice(c,1)},children:e,internalChildren:t},i))}}}function _(n){let e;E(()=>{n(),P(()=>{e=!0})}),R(()=>{e&&n()})}function Y(n,e,t={}){if(!w)return;const{target:r=window,passive:o=!1,capture:i=!1}=t;let a=!1,u;const s=d=>{if(a)return;const l=p(d);l&&!u&&(l.addEventListener(n,e,{capture:i,passive:o}),u=!0)},c=d=>{if(a)return;const l=p(d);l&&u&&(l.removeEventListener(n,e,i),u=!1)};x(()=>c(r)),O(()=>c(r)),_(()=>s(r));let h;return T(r)&&(h=b(r,(d,l)=>{c(l),s(d)})),()=>{h==null||h(),c(r),a=!0}}function F(n,e,t={}){if(!w)return;const{eventName:r="click"}=t;Y(r,i=>{(Array.isArray(n)?n:[n]).every(s=>{const c=p(s);return c&&!c.contains(i.target)})&&e(i)},{target:document})}var f,g;function G(){if(!f&&(f=v(0),g=v(0),w)){const n=()=>{f.value=window.innerWidth,g.value=window.innerHeight};n(),window.addEventListener("resize",n,{passive:!0}),window.addEventListener("orientationchange",n,{passive:!0})}return{width:f,height:g}}var H=/scroll|auto|overlay/i,N=w?window:void 0;function I(n){return n.tagName!=="HTML"&&n.tagName!=="BODY"&&n.nodeType===1}function V(n,e=N){let t=n;for(;t&&t!==e&&I(t);){const{overflowY:r}=window.getComputedStyle(t);if(H.test(r))return t;t=t.parentNode}return e}function J(n,e=N){const t=v();return E(()=>{n.value&&(t.value=V(n.value,e))}),t}export{z as a,Y as b,J as c,F as d,q as e,U as f,V as g,_ as o,G as u};
